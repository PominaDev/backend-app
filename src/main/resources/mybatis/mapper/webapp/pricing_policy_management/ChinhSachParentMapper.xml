<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.pomina.webapp.pricing_policy_management.mapper.ChinhSachParentMapper">


    <resultMap id="ChinhSachParentResultMap" type="com.pomina.webapp.pricing_policy_management.entity.ChinhSachParent">
        <!--    Base Result Map-->
        <id property="uChinhSachParentId" column="u_chinh_sach_parent_id"/>
        <result property="uChinhSachParentType" column="u_chinh_sach_parent_type"/>
        <result property="uChinhSachParentCode" column="u_chinh_sach_parent_code"/>
        <result property="uChinhSachParentName" column="u_chinh_sach_parent_name"/>
        <result property="userId" column="user_id"/>
        <result property="masterGroupUserCode" column="master_group_user_code"/>
        <result property="uDayBegin" column="u_day_begin"/>
        <result property="uDayEnd" column="u_day_end"/>
        <result property="uStatus" column="u_status"/>
        <result property="uDescription" column="u_description"/>
        <result property="dateUpload" column="date_upload"/>
        <result property="deptUpload" column="dept_upload"/>
        <result property="userUpload" column="user_upload"/>
        <result property="urlGoogledriv" column="url_googledriv"/>
        <result property="urlYoutube" column="url_youtube"/>
        <result property="status" column="status"/>
        <result property="note" column="noted"/>
        <result property="createdAt" column="created_at"/>
        <result property="createdBy" column="created_by"/>
        <result property="updatedAt" column="updated_at"/>
        <result property="updatedBy" column="updated_by"/>
        <result property="isDeleted" column="is_deleted"/>
    </resultMap>

    <select id="findById" resultMap="ChinhSachParentResultMap">
        /* FIND BY ID - u_chinh_sach_parent */
        SELECT u_chinh_sach_parent_id,
               u_chinh_sach_parent_type,
               u_chinh_sach_parent_code,
               u_chinh_sach_parent_name,
               user_id,
               master_group_user_code,
               u_day_begin,
               u_day_end,
               u_status,
               u_description,
               date_upload,
               dept_upload,
               user_upload,
               url_googledriv,
               url_youtube,
               status,
               noted,
               created_at,
               created_by,
               updated_at,
               updated_by,
               is_deleted
        FROM u_chinh_sach_parent
        WHERE u_chinh_sach_parent_id = #{id}
          AND is_deleted = 0
    </select>

    <select id="findAll" resultMap="ChinhSachParentResultMap">
        /* FIND ALL - u_chinh_sach_parent */
        SELECT u_chinh_sach_parent_id,
               u_chinh_sach_parent_type,
               u_chinh_sach_parent_code,
               u_chinh_sach_parent_name,
               user_id,
               master_group_user_code,
               u_day_begin,
               u_day_end,
               u_status,
               u_description,
               date_upload,
               dept_upload,
               user_upload,
               url_googledriv,
               url_youtube,
               status,
               noted,
               created_at,
               created_by,
               updated_at,
               updated_by,
               is_deleted
        FROM u_chinh_sach_parent
        WHERE is_deleted = 0
    </select>

    <select id="findAllPaged" resultMap="ChinhSachParentResultMap">
        /* FIND ALL PAGED - u_chinh_sach_parent */
        SELECT
        u_chinh_sach_parent_id,
        u_chinh_sach_parent_type,
        u_chinh_sach_parent_code,
        u_chinh_sach_parent_name,
        user_id,
        master_group_user_code,
        u_day_begin,
        u_day_end,
        u_status,
        u_description,
        date_upload,
        dept_upload,
        user_upload,
        url_googledriv,
        url_youtube,
        status,
        noted,
        created_at,
        created_by,
        updated_at,
        updated_by,
        is_deleted
        FROM u_chinh_sach_parent
        WHERE is_deleted = b'0'
        <if test="paging != null">
            ORDER BY ${paging.orderByClause}
        </if>
        LIMIT #{limit} OFFSET #{offset}
    </select>

    <insert id="insert">
        /* INSERT - u_chinh_sach_parent */
        INSERT INTO u_chinh_sach_parent (u_chinh_sach_parent_type,
                                         u_chinh_sach_parent_code,
                                         u_chinh_sach_parent_name,
                                         user_id,
                                         master_group_user_code,
                                         u_day_begin,
                                         u_day_end,
                                         u_status,
                                         u_description,
                                         date_upload,
                                         dept_upload,
                                         user_upload,
                                         url_googledriv,
                                         url_youtube,
                                         status,
                                         noted,
                                         created_at,
                                         created_by,
                                         updated_at,
                                         updated_by,
                                         is_deleted)
        VALUES (#{uChinhSachParentType},
                #{uChinhSachParentCode},
                #{uChinhSachParentName},
                #{userId},
                #{masterGroupUserCode},
                #{uDayBegin},
                #{uDayEnd},
                #{uStatus},
                #{uDescription},
                #{dateUpload},
                #{deptUpload},
                #{userUpload},
                #{urlGoogledriv},
                #{urlYoutube},
                #{status},
                #{note},
                #{createdAt},
                #{createdBy},
                #{updatedAt},
                #{updatedBy},
                #{isDeleted})
    </insert>

    <update id="update">
        /* UPDATE - u_chinh_sach_parent */
        UPDATE u_chinh_sach_parent
        <set>
            <if test="uChinhSachParentType != null and uChinhSachParentType != ''">
                u_chinh_sach_parent_type = #{uChinhSachParentType},
            </if>
            <if test="uChinhSachParentCode != null and uChinhSachParentCode != ''">
                u_chinh_sach_parent_code = #{uChinhSachParentCode},
            </if>
            <if test="uChinhSachParentName != null and uChinhSachParentName != ''">
                u_chinh_sach_parent_name = #{uChinhSachParentName},
            </if>
            <if test="userId != null">
                user_id = #{userId},
            </if>
            <if test="masterGroupUserCode != null and masterGroupUserCode != ''">
                master_group_user_code = #{masterGroupUserCode},
            </if>
            <if test="uDayBegin != null">
                u_day_begin = #{uDayBegin},
            </if>
            <if test="uDayEnd != null">
                u_day_end = #{uDayEnd},
            </if>
            <if test="uStatus != null and uStatus != ''">
                u_status = #{uStatus},
            </if>
            <if test="uDescription != null and uDescription != ''">
                u_description = #{uDescription},
            </if>
            <if test="dateUpload != null">
                date_upload = #{dateUpload},
            </if>
            <if test="deptUpload != null and deptUpload != ''">
                dept_upload = #{deptUpload},
            </if>
            <if test="userUpload != null and userUpload != ''">
                user_upload = #{userUpload},
            </if>
            <if test="urlGoogledriv != null and urlGoogledriv != ''">
                url_googledriv = #{urlGoogledriv},
            </if>
            <if test="urlYoutube != null and urlYoutube != ''">
                url_youtube = #{urlYoutube},
            </if>
            <if test="status != null and status != ''">
                status = #{status},
            </if>
            <if test="note != null and note != ''">
                noted = #{note},
            </if>
            <if test="updatedBy != null and updatedBy != ''">
                updated_by = #{updatedBy}
            </if>
            updated_at = NOW()
        </set>
        WHERE u_chinh_sach_parent_id = #{uChinhSachParentId}
        AND is_deleted = 0
    </update>

    <delete id="deleteById">
        /* HARD DELETE - u_chinh_sach_parent */
        DELETE
        FROM u_chinh_sach_parent
        WHERE u_chinh_sach_parent_id = #{id}
    </delete>

    <update id="softDeleteById">
        /* SOFT DELETE - u_chinh_sach_parent */
        UPDATE u_chinh_sach_parent
        SET is_deleted = 1
        WHERE u_chinh_sach_parent_id = #{id}
    </update>

    <select id="existsById" resultType="boolean">
        /* EXISTS BY ID - u_chinh_sach_parent */
        SELECT EXISTS(SELECT 1
                      FROM u_chinh_sach_parent
                      WHERE u_chinh_sach_parent_id = #{id}
                        AND is_deleted = 0)
    </select>

    <select id="countAll" resultType="int">
        /* COUNT ALL - u_chinh_sach_parent */
        SELECT COUNT(u_chinh_sach_parent_id)
        FROM u_chinh_sach_parent
        WHERE is_deleted = 0
    </select>

    <insert id="batchInsert">
        /* INSERT BATCH - u_chinh_sach_parent */
        INSERT INTO u_chinh_sach_parent (
        u_chinh_sach_parent_type,
        u_chinh_sach_parent_code,
        u_chinh_sach_parent_name,
        user_id,
        master_group_user_code,
        u_day_begin,
        u_day_end,
        u_status,
        u_description,
        date_upload,
        dept_upload,
        user_upload,
        url_googledriv,
        url_youtube,
        status,
        noted,
        created_at,
        created_by,
        updated_at,
        updated_by,
        is_deleted
        )
        VALUES
        <foreach collection="list" item="e" separator=",">
            (#{e.uChinhSachParentType},
            #{e.uChinhSachParentCode},
            #{e.uChinhSachParentName},
            #{e.userId},
            #{e.masterGroupUserCode},
            #{e.uDayBegin},
            #{e.uDayEnd},
            #{e.uStatus},
            #{e.uDescription},
            #{e.dateUpload},
            #{e.deptUpload},
            #{e.userUpload},
            #{e.urlGoogledriv},
            #{e.urlYoutube},
            #{e.status},
            #{e.note},
            #{e.createdAt},
            #{e.createdBy},
            #{e.updatedAt},
            #{e.updatedBy},
            #{e.isDeleted})
        </foreach>
    </insert>

</mapper>