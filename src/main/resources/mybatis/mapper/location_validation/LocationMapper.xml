<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.pomina.erpapp.appbaohanh.location_validation.mapper.LocationMapper">

    <resultMap id="LocationResultMap" type="com.pomina.erpapp.appbaohanh.location_validation.entity.Location">
        <id property="id" column="id" />
        <result property="userId" column="user_id" />
        <result property="latitude" column="latitude" />
        <result property="longitude" column="longitude" />
        <result property="road" column="road" />
        <result property="city" column="city" />
        <result property="country" column="country" />
        <result property="countryCode" column="country_code" />
        <result property="radius" column="radius" />
    </resultMap>
    
    <select id="findByUserId" resultMap="LocationResultMap">
        SELECT id,
               user_id,
               latitude,
               longitude,
               road,
               city,
               country,
               country_code,
               radius
        FROM locations
        WHERE user_id = #{userId}
    </select>

    <insert id="insert">
        INSERT INTO locations (user_id, latitude, longitude, road, city, country, country_code, radius)
        VALUES (#{userId}, #{latitude}, #{longitude}, #{road}, #{city}, #{country}, #{countryCode}, #{radius})
    </insert>

</mapper>