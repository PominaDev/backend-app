<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.pomina.commonservices.marketing_pr_chinh_sach.mapper.MarketingPrChinhSachMapper">

    <resultMap id="MarketingPrChinhSachResultMap"
               type="com.pomina.commonservices.marketing_pr_chinh_sach.entity.MarketingPrChinhSach">
        <id property="uMarketingPrChinhSachId" column="u_marketing_pr_chinh_sach_id"/>
        <result property="uChinhSachParentCode" column="u_chinh_sach_parent_code"/>
        <result property="uChinhSachParentName" column="u_chinh_sach_parent_name"/>
        <result property="uDayBegin" column="u_day_begin"/>
        <result property="uDayEnd" column="u_day_end"/>
        <result property="urlGoogleDrive" column="url_google_drive"/>
        <result property="urlYoutube" column="url_youtube"/>
        <result property="masterLocationCode" column="master_location_code"/>
        <result property="userUpload" column="user_upload"/>
        <result property="uStatus" column="u_status"/>
        <result property="status" column="status"/>
        <result property="note" column="noted"/>
        <result property="createdAt" column="created_at"/>
        <result property="createdBy" column="created_by"/>
        <result property="updatedAt" column="updated_at"/>
        <result property="updatedBy" column="updated_by"/>
        <result property="isDeleted" column="is_deleted"/>
    </resultMap>

    <select id="findById" resultMap="MarketingPrChinhSachResultMap">
        /* FIND BY ID - u_marketing_pr_chinh_sach */
        SELECT u_marketing_pr_chinh_sach_id,
               u_chinh_sach_parent_code,
               u_chinh_sach_parent_name,
               u_day_begin,
               u_day_end,
               url_google_drive,
               url_youtube,
               master_location_code,
               user_upload,
               u_status,
               status,
               noted,
               created_at,
               created_by,
               updated_at,
               updated_by,
               is_deleted
        FROM u_marketing_pr_chinh_sach
        WHERE u_marketing_pr_chinh_sach_id = #{id}
          AND is_deleted = 0
    </select>

    <select id="findAll" resultMap="MarketingPrChinhSachResultMap">
        /* FIND ALL - u_marketing_pr_chinh_sach */
        SELECT u_marketing_pr_chinh_sach_id,
               u_chinh_sach_parent_code,
               u_chinh_sach_parent_name,
               u_day_begin,
               u_day_end,
               url_google_drive,
               url_youtube,
               master_location_code,
               user_upload,
               u_status,
               status,
               noted,
               created_at,
               created_by,
               updated_at,
               updated_by,
               is_deleted
        FROM u_marketing_pr_chinh_sach
        WHERE is_deleted = 0
    </select>

    <select id="findAllPaged" resultMap="MarketingPrChinhSachResultMap">
        /* FIND ALL PAGED - u_marketing_pr_chinh_sach */
        SELECT
        u_marketing_pr_chinh_sach_id,
        u_chinh_sach_parent_code,
        u_chinh_sach_parent_name,
        u_day_begin,
        u_day_end,
        url_google_drive,
        url_youtube,
        master_location_code,
        user_upload,
        u_status,
        status,
        noted,
        created_at,
        created_by,
        updated_at,
        updated_by,
        is_deleted
        FROM u_marketing_pr_chinh_sach
        WHERE is_deleted = 0
        <if test="paging != null">
            ORDER BY ${paging.orderByClause}
        </if>
        LIMIT #{limit} OFFSET #{offset}
    </select>

    <insert id="insert" useGeneratedKeys="true" keyProperty="uMarketingPrChinhSachId">
        /* INSERT - u_marketing_pr_chinh_sach */
        INSERT INTO u_marketing_pr_chinh_sach (u_chinh_sach_parent_code,
                                               u_chinh_sach_parent_name,
                                               u_day_begin,
                                               u_day_end,
                                               url_google_drive,
                                               url_youtube,
                                               master_location_code,
                                               user_upload,
                                               u_status,
                                               status,
                                               noted,
                                               created_at,
                                               created_by,
                                               updated_at,
                                               updated_by,
                                               is_deleted)
        VALUES (#{uChinhSachParentCode},
                #{uChinhSachParentName},
                #{uDayBegin},
                #{uDayEnd},
                #{urlGoogleDrive},
                #{urlYoutube},
                #{masterLocationCode},
                #{userUpload},
                #{uStatus},
                #{status},
                #{note},
                #{createdAt},
                #{createdBy},
                #{updatedAt},
                #{updatedBy},
                #{isDeleted})
    </insert>

    <update id="update">
        /* UPDATE - u_marketing_pr_chinh_sach */
        UPDATE u_marketing_pr_chinh_sach
        <set>
            <if test="uChinhSachParentCode != null and uChinhSachParentCode != ''">
                u_chinh_sach_parent_code = #{uChinhSachParentCode},
            </if>
            <if test="uChinhSachParentName != null and uChinhSachParentName != ''">
                u_chinh_sach_parent_name = #{uChinhSachParentName},
            </if>
            <if test="uDayBegin != null">
                u_day_begin = #{uDayBegin},
            </if>
            <if test="uDayEnd != null">
                u_day_end = #{uDayEnd},
            </if>
            <if test="urlGoogleDrive != null and urlGoogleDrive != ''">
                url_google_drive = #{urlGoogleDrive},
            </if>
            <if test="urlYoutube != null and urlYoutube != ''">
                url_youtube = #{urlYoutube},
            </if>
            <if test="masterLocationCode != null and masterLocationCode != ''">
                master_location_code = #{masterLocationCode},
            </if>
            <if test ="uStatus != null and uStatus != '' ">
                u_status = #{uStatus},
            </if>
            <if test="status != null and status != ''">
                status = #{status},
            </if>
            <if test="note != null and note != ''">
                noted = #{note},
            </if>
            <if test="updatedBy != null">
                updated_by = #{updatedBy},
            </if>
            updated_at = NOW()
        </set>
        WHERE u_marketing_pr_chinh_sach_id = #{uMarketingPrChinhSachId}
        AND is_deleted = 0
    </update>

    <delete id="deleteById">
        /* HARD DELETE - u_marketing_pr_chinh_sach */
        DELETE
        FROM u_marketing_pr_chinh_sach
        WHERE u_marketing_pr_chinh_sach_id = #{id}
    </delete>

    <update id="softDeleteById">
        /* SOFT DELETE - u_marketing_pr_chinh_sach */
        UPDATE u_marketing_pr_chinh_sach
        SET is_deleted = 1
        WHERE u_marketing_pr_chinh_sach_id = #{id}
    </update>

    <select id="existsById" resultType="boolean">
        /* EXISTS BY ID - u_marketing_pr_chinh_sach */
        SELECT EXISTS(SELECT 1
                      FROM u_marketing_pr_chinh_sach
                      WHERE u_marketing_pr_chinh_sach_id = #{id}
                        AND is_deleted = 0)
    </select>

    <select id="countAll" resultType="int">
        /* COUNT ALL - u_marketing_pr_chinh_sach */
        SELECT COUNT(u_marketing_pr_chinh_sach_id)
        FROM u_marketing_pr_chinh_sach
        WHERE is_deleted = 0
    </select>

</mapper>