<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.pomina.commonservices.user.management.mapper.RoleMapper">

    <resultMap id="SysRoleResultMap" type="com.pomina.appbaohanh.user_managerment.entity.SysRole">
        <id column="id" property="id"/>
        <result column="role_name" property="roleName"/>
        <result column="description" property="description"/>
    </resultMap>

    <select id="findById" resultMap="SysRoleResultMap">
        SELECT id,
               role_name,
               description
        FROM sys_role
        WHERE id = #{id}
    </select>

    <select id="findAll" resultMap="SysRoleResultMap">
        SELECT id,
               role_name,
               description
        FROM sys_role
    </select>

    <select id="findAllPaged" resultMap="SysRoleResultMap">
        SELECT id,
               role_name,
               description
        FROM sys_role
        <if test="paging != null">
            ORDER BY ${paging.orderByClause}
        </if>
        LIMIT #{limit} OFFSET #{offset}
    </select>

    <insert id="insert">
        INSERT INTO sys_role(id,
                             role_name,
                             description)
        VALUES (#{id},
                #{roleName},
                #{description})
    </insert>

    <update id="update">
        UPDATE sys_role
        SET role_name = #{roleName},
            description = #{description}
        WHERE id = #{id}
    </update>

    <delete id="deleteById">
        DELETE
        FROM sys_role
        WHERE id = #{id}
    </delete>

    <select id="existsById">
        SELECT EXISTS(
            SELECT 1
            FROM sys_role
            WHERE id = #{id}
        )
    </select>

    <select id="countAll">
        SELECT COUNT(id)
        FROM sys_role
    </select>

</mapper>