<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.pomina.common.audit.SqlFragments">

    <sql id="InsertAuditCols">
        created_by, created_at, updated_by, updated_at
    </sql>

    <sql id="InsertAuditVals">
        <bind name="_uid" value="@com.pomina.common.utils.AuditOgnl@userId()" />
        <bind name="_now" value="@com.pomina.common.utils.AuditOgnl@userTimeNow()" />
        #{_uid}, #{_now}, #{_uid}, #{_now}
    </sql>

    <sql id="UpdateAuditSet">
        <bind name="_uid" value="@com.pomina.common.utils.AuditOgnl@userId()" />
        <bind name="_now" value="@com.pomina.common.utils.AuditOgnl@userTimeNow()" />
        updated_by = #{_uid},
        updated_at = #{_now}
    </sql>


</mapper>
